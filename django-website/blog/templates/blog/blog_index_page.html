{% extends "blog_base.html" %}

{% load staticfiles %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}


{% block blog_main %}
<div class="main">
    <div class="list">
        {% for article in articles %}
        <div class="list-block">
            <article class="article">
                <h2 class="article-title">{{ article.title }}</h2>
                <div class="article-meta">
                    <a class="article-meta-author">Alessio Rapini</a>
                    <span class="article-meta-divider">Â·</span>
                    <span class="article-meta-date">{{ article.date|date:"N d, Y" }}</span>
                </div>

                {% if article.cover %}
                    <figure class="article-preview">
                        {% image article.cover original class="article-preview-img" %}
                    </figure>
                {% endif %}

                <p class="article-post">{{ article.intro }}</p>
            </article>
            <a href="{% pageurl article %}" class="list-block-readmore">Read more...</a>
            <div class="list-block-divider"></div>
        </div>
        {% endfor %}
       <ul class="paginator list-paginator" role="menubar">
            <li class="paginator-first"><a href="?page=1"><img class="paginator-icon js-inject-svg" src="{% static 'svg/left-double-arrows.svg' %}"></a></li>
            {% if articles.has_previous %}
                <li class="paginator-previous"><a href="?page={{ articles.previous_page_number }}"><img class="paginator-icon js-inject-svg" src="{% static 'svg/left-arrow.svg' %}"></a></li>
            {% endif %}

            {% for item in articles.paginator.page_range %}
                {% if articles.number == item %}
                    <li class="paginator-page is-current">{{ item }}</li>
                {% else %}
                    <li class="paginator-page"><a href="?page={{ item }}">{{ item }}</a></li>
                {% endif %}
            {% endfor %}

            {% if articles.has_next %}
                <li class="paginator-next"><a href="?page={{ articles.next_page_number }}"><img class="paginator-icon js-inject-svg" src="{% static 'svg/right-arrow.svg' %}"></a></li>
            {% endif %}
            <li class="paginator-last"><a href="?page={{ articles.paginator.num_pages }}"><img class="paginator-icon js-inject-svg" src="{% static 'svg/right-double-arrows.svg' %}"></a></li>
        </ul>
    </div>
    <div class="sidebar">
        <h3 class="sidebar-heading">Featured Tags</h3>
        <ul class="sidebar-taglist">
            <li><a href="">Lorem</a></li>
            <li><a href="">Ipsum</a></li>
            <li><a href="">Dolor</a></li>
            <li><a href="">Sit</a></li>
            <li><a href="">Amet</a></li>
            <li><a href="">Neque</a></li>
            <li><a href="">Porro</a></li>
            <li><a href="">Quisquam</a></li>
            <li><a href="">Est</a></li>
            <li><a href="">Qui</a></li>
        </ul>
    </div>
</div>
{% endblock blog_main %}
